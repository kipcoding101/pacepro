<!-- app/views/admin/events/_form.html.erb -->
<%= form_with(model: [:admin, @event], local: true) do |f| %>
  <div class="grid grid-cols-1 gap-4">
    <div class="form-control">
      <%= f.label :title, class: "label" %>
      <%= f.text_field :title, class: "input input-bordered", required: true %>
    </div>
    <div class="form-control">
      <%= f.label :date, class: "label" %>
      <%= f.date_field :date, class: "input input-bordered", required: true %>
    </div>
    <div class="form-control">
      <%= f.label :location, class: "label" %>
      <%= f.text_field :location, class: "input input-bordered" %>
    </div>
    <div class="form-control">
      <%= f.label :description, class: "label" %>
      <%= f.text_area :description, rows: 4, class: "textarea textarea-bordered" %>
    </div>
    <div class="form-control">
      <%= f.label :google_form_url, "Google Form URL", class: "label" %>
      <%= f.url_field :google_form_url, class: "input input-bordered" %>
    </div>
    <div class="form-control">
      <label class="label cursor-pointer space-x-2">
        <%= f.check_box :result_published, class: "toggle toggle-primary" %>
        <span class="label-text">Results Published</span>
      </label>
    </div>

    <div class="form-control">
      <%= f.label :cover_image, class: "label" %>
      <%= f.file_field :cover_image, class: "file-input file-input-bordered" %>
      <% if @event.cover_image.attached? %>
        <%= image_tag @event.cover_image.variant(resize_to_limit: [200,200]), class: "mt-2" %>
      <% end %>
    </div>

    <div class="form-control">
      <%= f.label :gallery_images, "Gallery Photos", class: "label" %>
      <%= f.file_field :gallery_images, multiple: true, class: "file-input file-input-bordered" %>
      <% if @event.gallery_images.attached? %>
        <div class="grid grid-cols-4 gap-2 mt-2">
          <% @event.gallery_images.each do |img| %>
            <%= image_tag img.variant(resize_to_limit: [150,150]), class: "rounded" %>
          <% end %>
        </div>
      <% end %>
    </div>

    <div class="form-control mt-4">
      <%= f.submit class: "btn btn-primary" %>
    </div>
  </div>
<% end %>
